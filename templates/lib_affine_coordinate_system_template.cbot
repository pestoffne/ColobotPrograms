#include <macro.cbot>

#if SIZE - 2
#	define IF_3D(...) __VA_ARGS__
#else
#	define IF_3D(...)
#endif

public class CAT(AffineCoordinateSystem, SIZE, D) {
	private Matrix_float _a;
	private Matrix_float _b;
	
	public void CAT(AffineCoordinateSystem, SIZE, D)(Matrix_float a, Matrix_float b) {
		this._a = a;
		this._b = b;
	}
	
	public CAT(AffineCoordinateSystem, SIZE, D) translate(float dx, float dy) {
		return this;  // Not implemented
	}
	
	public CAT(AffineCoordinateSystem, SIZE, D) scale(float dx, float dy) {
		return this;  // Not implemented
	}
	
	public CAT(AffineCoordinateSystem, SIZE, D) rotate(float angle) {
		return this;  // Not implemented
	}
	
	public point _(point pos) {
		return this._a.mul(CAT(to_, SIZE, d_column_matrix_float)(pos)).add(this._b).to_point();
	}
}

public CAT(AffineCoordinateSystem, SIZE, D) CAT(coordinate_system_from_matrix_, SIZE, d)(Matrix_float ab) {
	nan * 0;  // Not implemented
	return null;
}

public CAT(AffineCoordinateSystem, SIZE, D) CAT(coordinate_system_identity_, SIZE, d)() {
	return new CAT(AffineCoordinateSystem, SIZE, D)(matrix_eye_float(SIZE), matrix_zeros_float(1, SIZE));
}

extern void CAT(Library_AffineCoordinateSystem, SIZE, D)() {
}

